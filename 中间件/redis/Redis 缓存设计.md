### 缓存穿透
- 指查询一个根本不存在的数据，缓存层和存储层都不会命中

- 导致不存在的数据每次都要去存储层查询失去了缓存的意义

- 在程序中，分别统计总调用数，缓存命中数，存储层命中数

#### 缓存穿透解决办法
1. **缓存空对象**
	- 问题
		- 缓存需要更多地内存	
			- 可以设置一个过期时间
		- 缓存层和存储层会有一定时间的数据不一致
			- 通过消息系统或者其他办法清除缓存中的空对象


2.  **布隆过滤器拦截**
	- 将 key 用布隆过滤器保存，不存在过滤器中的直接返回

方案对比：

- 缓存空对象
	- 适用场景
		- 数据命中不高
		- 数据频繁变化实时性高
	- 维护成本
		- 代码维护简单
		- 需要过多的内存空间
		- 数据不一致问题
- 布隆过滤器
	- 适用场景
		- 数据命中不高
		- 数据相对固定
	- 维护成本
		- 代码维护复杂
		- 内存空间占用少


### 缓存雪崩
缓存层崩溃后，流量全部进入存储层

- 保证缓存层服务高可用
	- 哨兵
	- 集群
- 依赖隔离组件为后端限流降级
	- 每种资源单独运行在自己的线程池
	- Hystrix
- 提前演练

